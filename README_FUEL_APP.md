# 燃油追踪应用

这是一个用于记录加油情况和计算油耗的小应用，可以帮助您跟踪车辆的燃油消耗情况。

## 功能特性

- 📝 记录加油日期、里程、加油量、油价等信息
- 💰 自动计算每次加油的费用
- 📊 计算并显示油耗详情（L/100km 和 km/L）
- 📈 提供统计信息（总花费、平均油耗等）
- 💾 数据持久化存储
- 📤 支持数据导出功能

## 如何使用

### 1. 命令行版本

运行应用：
```bash
python3 simple_fuel_tracker.py
```

应用会提供菜单驱动的界面，您可以：
- 添加加油记录
- 查看所有记录
- 查看油耗详情
- 查看统计信息
- 删除记录
- 导出数据

### 2. Web 版本（需要修复依赖问题）

Web 版本提供了图形化界面，可以通过浏览器访问。但当前存在Flask版本兼容性问题，需要先解决依赖：

```bash
# 解决依赖问题
pip3 install "Werkzeug<3.0.0" "Flask==2.3.3"

# 然后运行 Web 版本
python3 fuel_tracker_web.py
```

Web 应用启动后，可以在浏览器中访问 `http://localhost:5000`

## 数据存储

所有数据都存储在本地的 JSON 文件中：
- 命令行版本：`fuel_records.json`
- Web 版本：`fuel_records_web.json`

## 部署为网络应用

要将此应用部署为可通过网络访问的应用，您有几种选择：

### 选项 1: 本地网络访问
1. 修改 Web 应用的启动代码，允许外部访问：
   ```python
   if __name__ == '__main__':
       app.run(debug=True, host='0.0.0.0', port=5000)  # 这样设置允许外部访问
   ```

2. 在局域网内的其他设备上通过 `http://<服务器IP>:5000` 访问

### 选项 2: 云端部署
1. 使用云服务提供商（如 Heroku、VPS 等）
2. 将代码部署到云端
3. 配置域名和 HTTPS

### 选项 3: Docker 容器化
创建 Dockerfile 来容器化应用，便于部署到任何支持 Docker 的平台上。

## 技术栈

- Python 3.x
- Flask (Web 版本)
- JSON (数据存储)
- HTML/CSS/JavaScript (Web 版本前端)

## 数据字段说明

- **日期**: 加油日期 (YYYY-MM-DD)
- **里程**: 当前里程数 (km)
- **加油量**: 本次加油量 (L)
- **油价**: 油价 (元/L)
- **费用**: 自动计算 (加油量 × 油价)
- **加油站**: 加油站名称（可选）
- **备注**: 其他信息（可选）

## 油耗计算说明

应用会根据连续两次加油记录计算油耗：
- 行驶距离 = 第二次里程 - 第一次里程
- 油耗 (L/100km) = (加油量 / 行驶距离) × 100
- 效率 (km/L) = 行驶距离 / 加油量

## 文件说明

- `simple_fuel_tracker.py`: 命令行版本应用
- `fuel_tracker_web.py`: Web 版本应用
- `fuel_records.json`: 命令行版本数据文件
- `fuel_records_web.json`: Web 版本数据文件
- `README_FUEL_APP.md`: 本说明文件